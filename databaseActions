#!/usr/bin/bash

# â”€â”€â”€ ANSI Colors â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
CYAN='\033[0;36m'
BLUE='\033[1;34m'
NC='\033[0m' # No Color


dbName=$1

while true
do
    clear
    echo -e "${CYAN}ğŸ“¡ [ Info ] Connected to Database '${dbName}'${NC}"
    echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"
    echo -e "1) ğŸ§¾ Create Table"
    echo -e "\n2) ğŸ—‘ï¸  Delete Table"
    echo -e "\n3) ğŸ“‹ Show Tables"
    echo -e "\n4) ğŸ” Select From Table"
    echo -e "\n5) âŒ Delete From Table"
    echo -e "\n6) â• Insert To Table"
    echo -e "\n7) âœï¸  Update In Table"
    echo -e "\n8) ğŸšª Return To Main Menu"
    echo -e "${CYAN}â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”${NC}"

    read -p $'ğŸ“˜ [ Action ] Choose an option (1-8): ' action

    case $action in
        1) 
            ./createTable $dbName ;;

        2)
            ./deleteTable $dbName ;;

        3)
            ./showTables $dbName ;;

        4)
            ./selectFromTable $dbName ;;

        5) 
            ./deleteFromTable $dbName ;;

        6) 
            ./insertToTable $dbName ;;

        7)
            ./updateInTable "$dbName" ;;

        8) 
            #echo -e "${CYAN}ğŸ”Œ [ Info ] Disconnecting from Database '${dbName}'...${NC}"
            
            echo
        msg="ğŸ”Œ Disconnecting from Database '${dbName}'..."
            echo -ne "${CYAN}"
            for ((i=0; i<${#msg}; i++)); do
              echo -ne "${msg:$i:1}"
              sleep 0.02
            done
              echo -e "${NC}"

            break ;;
	    *) 
            echo -e "\n${YELLOW}âš ï¸  [ Warning ] Invalid choice! Please enter a number from 1 to 8.${NC}"
            read -n1 -rp $'\nğŸ” [ Info ] Press any key to try again...' -s
            ;;
        esac
done


